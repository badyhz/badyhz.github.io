<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>äººæ ¼ä¸æ˜Ÿåº§ç»¼åˆæµ‹è¯•</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }
        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            background: linear-gradient(135deg, #f5f7fa 0%, #c3cfe2 100%);
            min-height: 100vh;
            padding: 20px;
        }
        .container {
            max-width: 800px;
            margin: 0 auto;
            background: white;
            border-radius: 16px;
            box-shadow: 0 10px 30px rgba(0, 0, 0, 0.1);
            overflow: hidden;
        }
        header {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
            text-align: center;
            padding: 30px 20px;
        }
        h1 {
            font-size: 2.2em;
            margin-bottom: 8px;
            text-shadow: 0 2px 4px rgba(0,0,0,0.3);
        }
        .subtitle {
            font-size: 1.1em;
            opacity: 0.9;
        }
        .content {
            padding: 30px;
        }
        .progress {
            height: 4px;
            background: #e9ecef;
            border-radius: 2px;
            margin: 20px 0;
            overflow: hidden;
        }
        .progress-bar {
            height: 100%;
            background: linear-gradient(90deg, #4facfe, #00f2fe);
            width: 0%;
            transition: width 0.3s ease;
        }
        .form-group {
            margin-bottom: 20px;
        }
        label {
            display: block;
            margin-bottom: 8px;
            color: #2c3e50;
            font-weight: 600;
        }
        .date-input {
            width: 100%;
            padding: 12px 15px;
            border: 2px solid #e9ecef;
            border-radius: 8px;
            font-size: 1em;
            transition: border-color 0.3s ease;
        }
        .date-input:focus {
            outline: none;
            border-color: #4facfe;
        }
        .question {
            background: #f8f9ff;
            padding: 20px;
            border-radius: 12px;
            margin-bottom: 15px;
            border-left: 4px solid #4facfe;
        }
        .question h3 {
            font-size: 1.1em;
            color: #2c3e50;
            margin-bottom: 15px;
        }
        .options {
            display: flex;
            flex-direction: column;
            gap: 10px;
        }
        .option {
            background: white;
            border: 2px solid #e9ecef;
            border-radius: 8px;
            padding: 12px 10px;
            cursor: pointer;
            font-size: 1em;
            transition: all 0.3s ease;
            display: flex;
            align-items: center;
        }
        .option:hover {
            border-color: #4facfe;
            background: #f0f7ff;
        }
        .option.selected {
            border-color: #4facfe;
            background: #e3f2fd;
            color: #1976d2;
            font-weight: 600;
        }
        .submit-btn {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
            border: none;
            padding: 14px 30px;
            font-size: 1.1em;
            border-radius: 40px;
            cursor: pointer;
            display: block;
            margin: 25px auto 0;
            transition: all 0.3s ease;
            font-weight: 600;
            box-shadow: 0 8px 16px rgba(102, 126, 234, 0.3);
            width: 100%;
        }
        .submit-btn:hover {
            transform: translateY(-2px);
            box-shadow: 0 12px 20px rgba(102, 126, 234, 0.4);
        }
        .submit-btn:active {
            transform: translateY(0);
        }
        .back-btn {
            background: #6c757d;
            box-shadow: 0 8px 16px rgba(108, 117, 125, 0.3);
        }
        .back-btn:hover {
            background: #5a6268;
        }
        .results {
            padding: 18px;
            margin-top: 20px;
        }
        .results h2 {
            font-size: 1.4em;
            color: #2c3e50;
            margin-bottom: 15px;
            text-align: center;
        }
        .result-item {
            background: #f8f9ff;
            padding: 12px;
            border-radius: 12px;
            margin-bottom: 15px;
            border-left: 4px solid #4facfe;
        }
        .result-item h3 {
            font-size: 1.1em;
            color: #2c3e50;
            margin-bottom: 8px;
            display: flex;
            align-items: center;
        }
        .result-item h3 i {
            margin-right: 8px;
            font-size: 1.1em;
        }
        .bar-container {
            height: 18px;
            background: #e9ecef;
            border-radius: 9px;
            margin: 10px 0;
            overflow: hidden;
            box-shadow: inset 0 1px 3px rgba(0,0,0,0.1);
        }
        .bar {
            height: 100%;
            background: linear-gradient(90deg, #4facfe, #00f2fe);
            text-align: center;
            color: white;
            line-height: 18px;
            font-size: 0.8em;
            font-weight: 500;
            transition: width 1.5s ease-in-out;
        }
        .tags {
            display: flex;
            flex-wrap: wrap;
            gap: 8px;
            margin-top: 8px;
        }
        .tag {
            background: linear-gradient(135deg, #a8edea 0%, #fed6e3 100%);
            color: #333;
            padding: 6px 12px;
            border-radius: 16px;
            font-size: 0.85em;
            font-weight: 500;
            box-shadow: 0 1px 3px rgba(0,0,0,0.1);
        }
        .dimension-table {
            width: 100%;
            border-collapse: collapse;
            margin-top: 10px;
            font-size: 0.85em;
        }
        .dimension-table th, .dimension-table td {
            padding: 6px 8px;
            text-align: center;
            border-bottom: 1px solid #e9ecef;
        }
        .dimension-table th {
            background: #4facfe;
            color: white;
            font-weight: 600;
        }
        .dimension-table tr:nth-child(even) {
            background: #f8f9ff;
        }
        .special-mechanism {
            padding: 8px;
            background: #fff3cd;
            border-left: 4px solid #ffc107;
            border-radius: 0 8px 8px 0;
        }
        .special-mechanism h4 {
            font-size: 0.95em;
            color: #856404;
            margin-bottom: 4px;
        }
        .special-mechanism p {
            font-size: 0.85em;
            color: #856404;
        }
        /* æ–°å¢é¡µé¢æ ·å¼ï¼šåå¤©ä¸è¡Œä¸ºæ ‡ç­¾ */
        .post-test-page {
            display: none; /* é»˜è®¤éšè— */
            padding: 20px;
        }
        .post-test-header {
            text-align: center;
            margin-bottom: 25px;
        }
        .post-test-header h2 {
            font-size: 1.8em;
            color: #2c3e50;
            margin-bottom: 10px;
        }
        .post-test-header p {
            color: #666;
            font-size: 1em;
        }
        .tag-section {
            background: #f8f9ff;
            padding: 25px;
            border-radius: 12px;
            margin-bottom: 25px;
            border-left: 4px solid #4facfe;
        }
        .section-title {
            font-size: 1.4em;
            color: #2c3e50;
            margin-bottom: 15px;
            display: flex;
            align-items: center;
        }
        .section-title i {
            margin-right: 10px;
            font-size: 1.2em;
        }
        .tag-group {
            margin-bottom: 20px;
        }
        .tag-group h3 {
            color: #2c3e50;
            margin-bottom: 10px;
            font-size: 1.1em;
            display: flex;
            align-items: center;
        }
        .tag-group h3 i {
            margin-right: 8px;
            font-size: 1.2em;
        }
        .tag-options {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(140px, 1fr));
            gap: 12px;
        }
        .tag-option {
            background: white;
            border: 2px solid #e9ecef;
            border-radius: 8px;
            padding: 10px 8px;
            text-align: center;
            cursor: pointer;
            font-size: 0.95em;
            transition: all 0.3s ease;
        }
        .tag-option:hover {
            border-color: #4facfe;
            background: #f0f7ff;
        }
        .tag-option.selected {
            border-color: #4facfe;
            background: #e3f2fd;
            color: #1976d2;
            font-weight: 600;
        }
        .tag-option.single-selected {
            background: #4facfe;
            color: white;
            border-color: #4facfe;
        }

        /* å“åº”å¼è®¾è®¡ */
        @media (max-width: 768px) {
            .container {
                margin: 10px;
                border-radius: 12px;
            }
            .content {
                padding: 20px;
            }
            header {
                padding: 20px 15px;
            }
            h1 {
                font-size: 1.8em;
            }
            .subtitle {
                font-size: 0.95em;
            }
            .question {
                padding: 16px;
            }
            .question h3 {
                font-size: 1.1em;
            }
            .options {
                flex-direction: column;
                gap: 10px;
            }
            .option {
                padding: 12px 10px;
                font-size: 1em;
            }
            .submit-btn {
                padding: 14px 20px;
                font-size: 1.1em;
                width: 100%;
            }
            .results {
                padding: 18px;
                margin-top: 20px;
            }
            .results h2 {
                font-size: 1.4em;
            }
            .result-item {
                padding: 12px;
            }
            .result-item h3 {
                font-size: 1.1em;
            }
            .bar-container {
                height: 18px;
            }
            .bar {
                line-height: 18px;
                font-size: 0.8em;
            }
            .tags {
                gap: 6px;
            }
            .tag {
                padding: 5px 10px;
                font-size: 0.8em;
            }
            .dimension-table {
                font-size: 0.85em;
            }
            .dimension-table th, .dimension-table td {
                padding: 6px 8px;
            }
            .special-mechanism {
                padding: 8px;
            }
            .special-mechanism h4 {
                font-size: 0.95em;
            }
            .progress {
                height: 4px;
                margin: 15px 0;
            }
        }

        /* å°å±å¹•ç‰¹æ®Šä¼˜åŒ– */
        @media (max-width: 360px) {
            body {
                padding: 10px;
            }
            .container {
                margin: 5px;
            }
            header {
                padding: 15px 8px;
            }
            h1 {
                font-size: 1.6em;
            }
            .subtitle {
                font-size: 0.85em;
            }
            .content {
                padding: 15px 8px;
            }
            .question {
                padding: 12px;
            }
            .question h3 {
                font-size: 1em;
            }
            .option {
                padding: 10px 8px;
                font-size: 0.9em;
            }
            .submit-btn {
                padding: 12px 15px;
                font-size: 1em;
            }
            .results {
                padding: 15px;
            }
            .results h2 {
                font-size: 1.3em;
            }
            .result-item {
                padding: 10px;
            }
            .result-item h3 {
                font-size: 1em;
            }
            .bar {
                font-size: 0.75em;
            }
            .tag {
                padding: 4px 8px;
                font-size: 0.75em;
            }
        }
    </style>
</head>
<body>
    <div class="container">
        <header>
            <h1>äººæ ¼ä¸æ˜Ÿåº§ç»¼åˆæµ‹è¯•</h1>
            <p class="subtitle">åŸºäº40ä¸ªæ€§æ ¼æ ‡ç­¾çš„æ·±åº¦äººæ ¼åˆ†æ</p>
        </header>
        <div class="content">
            <!-- ç¬¬ä¸€é¡µï¼šæ€§æ ¼æµ‹è¯• -->
            <form id="personality-form" class="active-page">
                <div class="progress">
                    <div class="progress-bar" id="progress-bar"></div>
                </div>
                <div class="form-group">
                    <label for="dob">è¯·è¾“å…¥ä½ çš„å‡ºç”Ÿæ—¥æœŸï¼š</label>
                    <input type="date" id="dob" class="date-input" required>
                </div>
                <div id="questions-container">
                    <!-- é—®é¢˜å°†é€šè¿‡JavaScriptåŠ¨æ€ç”Ÿæˆ -->
                </div>
                <button type="button" id="nextToPostTestBtn" class="submit-btn">è¿›å…¥ä¸‹ä¸€æ­¥</button>
            </form>

            <!-- æ–°å¢é¡µé¢ï¼šåå¤©ä¸è¡Œä¸ºæ ‡ç­¾ -->
            <div id="post-test-page" class="post-test-page">
                <div class="post-test-header">
                    <h2>å®Œå–„ä½ çš„ä¸ªäººç”»åƒ</h2>
                    <p>è¯·é€‰æ‹©ä»¥ä¸‹æ ‡ç­¾ï¼Œè®©åˆ†ææ›´ç²¾å‡†</p>
                </div>
                <div class="tag-section">
                    <h2 class="section-title"><i>ğŸ”„</i> åå¤©æ ‡ç­¾ï¼ˆåŠ¨æ€é›•åˆ»ï¼‰</h2>
                    <div class="tag-group">
                        <h3><i>ğŸ§ </i> MBTI</h3>
                        <div class="tag-options" id="mbti-options">
                            <div class="tag-option" data-tag="INTJ">INTJ</div>
                            <div class="tag-option" data-tag="INTP">INTP</div>
                            <div class="tag-option" data-tag="ENTJ">ENTJ</div>
                            <div class="tag-option" data-tag="ENTP">ENTP</div>
                            <div class="tag-option" data-tag="INFJ">INFJ</div>
                            <div class="tag-option" data-tag="INFP">INFP</div>
                            <div class="tag-option" data-tag="ENFJ">ENFJ</div>
                            <div class="tag-option" data-tag="ENFP">ENFP</div>
                            <div class="tag-option" data-tag="ISTJ">ISTJ</div>
                            <div class="tag-option" data-tag="ISFJ">ISFJ</div>
                            <div class="tag-option" data-tag="ESTJ">ESTJ</div>
                            <div class="tag-option" data-tag="ESFJ">ESFJ</div>
                            <div class="tag-option" data-tag="ISTP">ISTP</div>
                            <div class="tag-option" data-tag="ISFP">ISFP</div>
                            <div class="tag-option" data-tag="ESTP">ESTP</div>
                            <div class="tag-option" data-tag="ESFP">ESFP</div>
                        </div>
                    </div>
                    <div class="tag-group">
                        <h3><i>ğŸ’‰</i> è¡€å‹</h3>
                        <div class="tag-options" id="blood-options">
                            <div class="tag-option" data-tag="Aå‹">Aå‹</div>
                            <div class="tag-option" data-tag="Bå‹">Bå‹</div>
                            <div class="tag-option" data-tag="Oå‹">Oå‹</div>
                            <div class="tag-option" data-tag="ABå‹">ABå‹</div>
                        </div>
                    </div>
                    <div class="tag-group">
                        <h3><i>âš¡</i> å…³é”®äº‹ä»¶</h3>
                        <div class="tag-options" id="event-options">
                            <div class="tag-option" data-tag="é‡å¤§å¤±è´¥">é‡å¤§å¤±è´¥</div>
                            <div class="tag-option" data-tag="çªé‡è´µäºº">çªé‡è´µäºº</div>
                            <div class="tag-option" data-tag="ç§»æ°‘ç»å†">ç§»æ°‘ç»å†</div>
                            <div class="tag-option" data-tag="è‡ªç„¶ç¾å®³">è‡ªç„¶ç¾å®³</div>
                            <div class="tag-option" data-tag="é‡å¤§ç–¾ç—…">é‡å¤§ç–¾ç—…</div>
                            <div class="tag-option" data-tag="æ„å¤–è´¢å¯Œ">æ„å¤–è´¢å¯Œ</div>
                            <div class="tag-option" data-tag="åˆ›ä¸šæˆåŠŸ">åˆ›ä¸šæˆåŠŸ</div>
                            <div class="tag-option" data-tag="å®¶åº­å˜æ•…">å®¶åº­å˜æ•…</div>
                            <div class="tag-option" data-tag="æ•™è‚²è½¬æŠ˜">æ•™è‚²è½¬æŠ˜</div>
                            <div class="tag-option" data-tag="é•¿æœŸå¼‚åœ°">é•¿æœŸå¼‚åœ°</div>
                            <div class="tag-option" data-tag="æ³•å¾‹çº çº·">æ³•å¾‹çº çº·</div>
                            <div class="tag-option" data-tag="è‰ºæœ¯å¯è’™">è‰ºæœ¯å¯è’™</div>
                            <div class="tag-option" data-tag="å®—æ•™ä½“éªŒ">å®—æ•™ä½“éªŒ</div>
                            <div class="tag-option" data-tag="å†›äº‹æœå½¹">å†›äº‹æœå½¹</div>
                            <div class="tag-option" data-tag="ç½‘ç»œèµ°çº¢">ç½‘ç»œèµ°çº¢</div>
                            <div class="tag-option" data-tag="å­¦æœ¯çªç ´">å­¦æœ¯çªç ´</div>
                            <div class="tag-option" data-tag="èŒä¸šè½¬å‹">èŒä¸šè½¬å‹</div>
                            <div class="tag-option" data-tag="æ–‡åŒ–å†²å‡»">æ–‡åŒ–å†²å‡»</div>
                            <div class="tag-option" data-tag="é‡å¤§è·å¥–">é‡å¤§è·å¥–</div>
                            <div class="tag-option" data-tag="åˆ›ä¼¤ç»å†">åˆ›ä¼¤ç»å†</div>
                        </div>
                    </div>
                    <div class="tag-group">
                        <h3><i>ğŸ’¼</i> èŒä¸šçƒ™å°</h3>
                        <div class="tag-options" id="career-options">
                            <div class="tag-option" data-tag="ç¨‹åºå‘˜">ç¨‹åºå‘˜</div>
                            <div class="tag-option" data-tag="é”€å”®">é”€å”®</div>
                            <div class="tag-option" data-tag="è‰ºæœ¯å®¶">è‰ºæœ¯å®¶</div>
                            <div class="tag-option" data-tag="åŒ»ç”Ÿ">åŒ»ç”Ÿ</div>
                            <div class="tag-option" data-tag="æ•™å¸ˆ">æ•™å¸ˆ</div>
                            <div class="tag-option" data-tag="å†›äºº">å†›äºº</div>
                            <div class="tag-option" data-tag="ä¼ä¸šå®¶">ä¼ä¸šå®¶</div>
                            <div class="tag-option" data-tag="è‡ªç”±èŒä¸š">è‡ªç”±èŒä¸š</div>
                            <div class="tag-option" data-tag="è®¾è®¡å¸ˆ">è®¾è®¡å¸ˆ</div>
                            <div class="tag-option" data-tag="è®°è€…">è®°è€…</div>
                            <div class="tag-option" data-tag="é‡‘èåˆ†æå¸ˆ">é‡‘èåˆ†æå¸ˆ</div>
                            <div class="tag-option" data-tag="ç§‘ç ”äººå‘˜">ç§‘ç ”äººå‘˜</div>
                            <div class="tag-option" data-tag="å…¬åŠ¡å‘˜">å…¬åŠ¡å‘˜</div>
                            <div class="tag-option" data-tag="å·¥ç¨‹å¸ˆ">å·¥ç¨‹å¸ˆ</div>
                            <div class="tag-option" data-tag="æ¼”å‘˜">æ¼”å‘˜</div>
                            <div class="tag-option" data-tag="å¿ƒç†å’¨è¯¢å¸ˆ">å¿ƒç†å’¨è¯¢å¸ˆ</div>
                        </div>
                    </div>
                    <div class="tag-group">
                        <h3><i>ğŸ›ï¸</i> ç¤¾ä¼šé˜¶å±‚</h3>
                        <div class="tag-options" id="class-options">
                            <div class="tag-option" data-tag="å¯’é—¨å‡ºèº«">å¯’é—¨å‡ºèº«</div>
                            <div class="tag-option" data-tag="ä¸­äº§å®¶åº­">ä¸­äº§å®¶åº­</div>
                            <div class="tag-option" data-tag="å¯Œè£•é˜¶å±‚">å¯Œè£•é˜¶å±‚</div>
                            <div class="tag-option" data-tag="æ–°è´µå®¶åº­">æ–°è´µå®¶åº­</div>
                            <div class="tag-option" data-tag="çŸ¥è¯†ç²¾è‹±">çŸ¥è¯†ç²¾è‹±</div>
                            <div class="tag-option" data-tag="å·¥è–ªé˜¶å±‚">å·¥è–ªé˜¶å±‚</div>
                            <div class="tag-option" data-tag="è‰ºæœ¯ä¸–å®¶">è‰ºæœ¯ä¸–å®¶</div>
                            <div class="tag-option" data-tag="å®˜å®¦èƒŒæ™¯">å®˜å®¦èƒŒæ™¯</div>
                        </div>
                    </div>
                </div>
                <div class="tag-section">
                    <h2 class="section-title"><i>ğŸ‘£</i> è¡Œä¸ºæ ‡ç­¾ï¼ˆæ˜¾æ€§è¡¨è¾¾ï¼‰</h2>
                    <div class="tag-group">
                        <h3><i>ğŸ›’</i> æ¶ˆè´¹å°è®°</h3>
                        <div class="tag-options" id="spend-options">
                            <div class="tag-option" data-tag="å¥¢ä¾ˆå“">å¥¢ä¾ˆå“</div>
                            <div class="tag-option" data-tag="çŸ¥è¯†ä»˜è´¹">çŸ¥è¯†ä»˜è´¹</div>
                            <div class="tag-option" data-tag="æç®€ä¸»ä¹‰">æç®€ä¸»ä¹‰</div>
                            <div class="tag-option" data-tag="å†²åŠ¨æ¶ˆè´¹">å†²åŠ¨æ¶ˆè´¹</div>
                            <div class="tag-option" data-tag="æ”¶è—ç™–å¥½">æ”¶è—ç™–å¥½</div>
                            <div class="tag-option" data-tag="ä½“éªŒè‡³ä¸Š">ä½“éªŒè‡³ä¸Š</div>
                            <div class="tag-option" data-tag="æ€§ä»·æ¯”æ§">æ€§ä»·æ¯”æ§</div>
                            <div class="tag-option" data-tag="å“ç‰Œå¿ è¯š">å“ç‰Œå¿ è¯š</div>
                        </div>
                    </div>
                    <div class="tag-group">
                        <h3><i>ğŸ‘¥</i> ç¤¾äº¤æŒ‡çº¹</h3>
                        <div class="tag-options" id="social-options">
                            <div class="tag-option" data-tag="ç¾¤èŠä¸»å¯¼è€…">ç¾¤èŠä¸»å¯¼è€…</div>
                            <div class="tag-option" data-tag="å€¾å¬è€…">å€¾å¬è€…</div>
                            <div class="tag-option" data-tag="æ®µå­æ‰‹">æ®µå­æ‰‹</div>
                            <div class="tag-option" data-tag="ç¤¾äº¤å›é¿">ç¤¾äº¤å›é¿</div>
                            <div class="tag-option" data-tag="å…³ç³»åè°ƒè€…">å…³ç³»åè°ƒè€…</div>
                            <div class="tag-option" data-tag="æ„è§é¢†è¢–">æ„è§é¢†è¢–</div>
                            <div class="tag-option" data-tag="æ­è®ªè¾¾äºº">æ­è®ªè¾¾äºº</div>
                            <div class="tag-option" data-tag="èšä¼šç­–åˆ’">èšä¼šç­–åˆ’</div>
                        </div>
                    </div>
                    <div class="tag-group">
                        <h3><i>â±ï¸</i> æ—¶é—´åˆ†é…</h3>
                        <div class="tag-options" id="time-options">
                            <div class="tag-option" data-tag="å¤œé—´æ´»è·ƒ">å¤œé—´æ´»è·ƒ</div>
                            <div class="tag-option" data-tag="æ™¨å‹äºº">æ™¨å‹äºº</div>
                            <div class="tag-option" data-tag="ç¢ç‰‡åŒ–">ç¢ç‰‡åŒ–</div>
                            <div class="tag-option" data-tag="æ·±åº¦å·¥ä½œ">æ·±åº¦å·¥ä½œ</div>
                            <div class="tag-option" data-tag="å¤šä»»åŠ¡å¤„ç†">å¤šä»»åŠ¡å¤„ç†</div>
                            <div class="tag-option" data-tag="æ‹–å»¶å¤§å¸ˆ">æ‹–å»¶å¤§å¸ˆ</div>
                            <div class="tag-option" data-tag="ä¸¥æ ¼æ—¥ç¨‹">ä¸¥æ ¼æ—¥ç¨‹</div>
                            <div class="tag-option" data-tag="å³å…´ç”Ÿæ´»">å³å…´ç”Ÿæ´»</div>
                        </div>
                    </div>
                    <div class="tag-group">
                        <h3><i>ğŸ“±</i> æ•°å­—è‚¢ä½“è¯­è¨€</h3>
                        <div class="tag-options" id="digital-options">
                            <div class="tag-option" data-tag="ç‚¹èµç‹‚é­”">ç‚¹èµç‹‚é­”</div>
                            <div class="tag-option" data-tag="å·²è¯»ä¸å›">å·²è¯»ä¸å›</div>
                            <div class="tag-option" data-tag="é•¿æ–‡å…š">é•¿æ–‡å…š</div>
                            <div class="tag-option" data-tag="è¡¨æƒ…åŒ…è¾¾äºº">è¡¨æƒ…åŒ…è¾¾äºº</div>
                            <div class="tag-option" data-tag="æ·±å¤œå‘å›¾">æ·±å¤œå‘å›¾</div>
                            <div class="tag-option" data-tag="å¤´åƒå¸¸æ¢">å¤´åƒå¸¸æ¢</div>
                            <div class="tag-option" data-tag="ç­¾åæ›´æ–°">ç­¾åæ›´æ–°</div>
                            <div class="tag-option" data-tag="ç¾¤å†…æ½œæ°´">ç¾¤å†…æ½œæ°´</div>
                        </div>
                    </div>
                    <div class="tag-group">
                        <h3><i>ğŸ’ª</i> å¥åº·ä¹ æƒ¯</h3>
                        <div class="tag-options" id="health-options">
                            <div class="tag-option" data-tag="å¥èº«ç‹‚äºº">å¥èº«ç‹‚äºº</div>
                            <div class="tag-option" data-tag="å…»ç”Ÿè¾¾äºº">å…»ç”Ÿè¾¾äºº</div>
                            <div class="tag-option" data-tag="çƒŸé…’ä¸æ²¾">çƒŸé…’ä¸æ²¾</div>
                            <div class="tag-option" data-tag="å’–å•¡ä¾èµ–">å’–å•¡ä¾èµ–</div>
                            <div class="tag-option" data-tag="ç´ é£Ÿä¸»ä¹‰">ç´ é£Ÿä¸»ä¹‰</div>
                            <div class="tag-option" data-tag="è§„å¾‹ä½œæ¯">è§„å¾‹ä½œæ¯</div>
                            <div class="tag-option" data-tag="åŒ»ç–—ææƒ§">åŒ»ç–—ææƒ§</div>
                            <div class="tag-option" data-tag="è¿åŠ¨æ–°æ‰‹">è¿åŠ¨æ–°æ‰‹</div>
                        </div>
                    </div>
                    <div class="tag-group">
                        <h3><i>ğŸ“š</i> å­¦ä¹ é£æ ¼</h3>
                        <div class="tag-options" id="learning-options">
                            <div class="tag-option" data-tag="ç³»ç»Ÿå­¦ä¹ ">ç³»ç»Ÿå­¦ä¹ </div>
                            <div class="tag-option" data-tag="ç¢ç‰‡å­¦ä¹ ">ç¢ç‰‡å­¦ä¹ </div>
                            <div class="tag-option" data-tag="å®è·µæ´¾">å®è·µæ´¾</div>
                            <div class="tag-option" data-tag="ç†è®ºæ´¾">ç†è®ºæ´¾</div>
                            <div class="tag-option" data-tag="å¿«é€Ÿä¸Šæ‰‹">å¿«é€Ÿä¸Šæ‰‹</div>
                            <div class="tag-option" data-tag="æ·±åº¦é’»ç ”">æ·±åº¦é’»ç ”</div>
                            <div class="tag-option" data-tag="æ¨¡ä»¿å­¦ä¹ ">æ¨¡ä»¿å­¦ä¹ </div>
                            <div class="tag-option" data-tag="ç‹¬ç«‹æ¢ç´¢">ç‹¬ç«‹æ¢ç´¢</div>
                        </div>
                    </div>
                    <div class="tag-group">
                        <h3><i>ğŸ§˜</i> å‹åŠ›åº”å¯¹</h3>
                        <div class="tag-options" id="stress-options">
                            <div class="tag-option" data-tag="ç§¯æè§£å†³">ç§¯æè§£å†³</div>
                            <div class="tag-option" data-tag="é€ƒé¿ç°å®">é€ƒé¿ç°å®</div>
                            <div class="tag-option" data-tag="å¯»æ±‚æ”¯æŒ">å¯»æ±‚æ”¯æŒ</div>
                            <div class="tag-option" data-tag="è‡ªæˆ‘åŠ å‹">è‡ªæˆ‘åŠ å‹</div>
                            <div class="tag-option" data-tag="è¿åŠ¨é‡Šæ”¾">è¿åŠ¨é‡Šæ”¾</div>
                            <div class="tag-option" data-tag="æš´é¥®æš´é£Ÿ">æš´é¥®æš´é£Ÿ</div>
                            <div class="tag-option" data-tag="å†·é™åˆ†æ">å†·é™åˆ†æ</div>
                            <div class="tag-option" data-tag="æƒ…ç»ªçˆ†å‘">æƒ…ç»ªçˆ†å‘</div>
                        </div>
                    </div>
                    <div class="tag-group">
                        <h3><i>ğŸ¨</i> ä¼‘é—²åå¥½</h3>
                        <div class="tag-options" id="leisure-options">
                            <div class="tag-option" data-tag="æˆ·å¤–æ¢é™©">æˆ·å¤–æ¢é™©</div>
                            <div class="tag-option" data-tag="å®…å®¶ä¼‘æ¯">å®…å®¶ä¼‘æ¯</div>
                            <div class="tag-option" data-tag="ç”µå½±è¿·">ç”µå½±è¿·</div>
                            <div class="tag-option" data-tag="æ¸¸æˆçˆ±å¥½è€…">æ¸¸æˆçˆ±å¥½è€…</div>
                            <div class="tag-option" data-tag="é˜…è¯»æˆç˜¾">é˜…è¯»æˆç˜¾</div>
                            <div class="tag-option" data-tag="ç¤¾äº¤èšä¼š">ç¤¾äº¤èšä¼š</div>
                            <div class="tag-option" data-tag="è‰ºæœ¯åˆ›ä½œ">è‰ºæœ¯åˆ›ä½œ</div>
                            <div class="tag-option" data-tag="æ—…è¡Œè¾¾äºº">æ—…è¡Œè¾¾äºº</div>
                        </div>
                    </div>
                </div>
                <div class="btn-group">
                    <button type="button" id="backToTestBtn" class="submit-btn back-btn">ä¸Šä¸€æ­¥</button>
                    <button type="button" id="submitFinalBtn" class="submit-btn">ç”Ÿæˆæˆ‘çš„äººæ ¼æŠ¥å‘Š</button>
                </div>
            </div>

            <!-- æœ€ç»ˆç»“æœé¡µé¢ -->
            <div class="results hidden" id="results">
                <h2>æˆ‘çš„äººæ ¼ç”»åƒ</h2>
                <div id="results-content">
                    <!-- ç»“æœå°†é€šè¿‡JavaScriptåŠ¨æ€ç”Ÿæˆ -->
                </div>
            </div>
        </div>
    </div>

    <script>
        // å››æ¶²è´¨æ ‡ç­¾å’Œè¯„åˆ†è§„åˆ™
        const temperamentTags = {
            sanguine: [
                { label: "ç¤¾äº¤", openness: 6, conscientiousness: 4, extraversion: 9, agreeableness: 7, neuroticism: 3 },
                { label: "æ´»æ³¼", openness: 6, conscientiousness: 3, extraversion: 9, agreeableness: 6, neuroticism: 3 },
                { label: "æƒ…ç»ªæ³¢åŠ¨", openness: 5, conscientiousness: 2, extraversion: 7, agreeableness: 5, neuroticism: 8 },
                { label: "ç²¾åŠ›æ—ºç››", openness: 5, conscientiousness: 5, extraversion: 9, agreeableness: 5, neuroticism: 3 },
                { label: "ä¹è§‚", openness: 7, conscientiousness: 4, extraversion: 8, agreeableness: 7, neuroticism: 2 },
                { label: "å¥è°ˆ", openness: 5, conscientiousness: 3, extraversion: 9, agreeableness: 6, neuroticism: 4 },
                { label: "éšå’Œ", openness: 5, conscientiousness: 4, extraversion: 7, agreeableness: 8, neuroticism: 3 },
                { label: "å¯»æ±‚åˆºæ¿€", openness: 8, conscientiousness: 3, extraversion: 8, agreeableness: 5, neuroticism: 5 }
            ],
            choleric: [
                { label: "æœæ–­", openness: 5, conscientiousness: 8, extraversion: 8, agreeableness: 4, neuroticism: 5 },
                { label: "é¢†å¯¼åŠ›", openness: 6, conscientiousness: 8, extraversion: 9, agreeableness: 5, neuroticism: 4 },
                { label: "é‡å¿ƒ", openness: 7, conscientiousness: 9, extraversion: 8, agreeableness: 3, neuroticism: 6 },
                { label: "è‡ªä¿¡", openness: 6, conscientiousness: 6, extraversion: 8, agreeableness: 5, neuroticism: 3 },
                { label: "ç«äº‰æ€§", openness: 5, conscientiousness: 7, extraversion: 8, agreeableness: 3, neuroticism: 6 },
                { label: "ç›®æ ‡å¯¼å‘", openness: 5, conscientiousness: 9, extraversion: 7, agreeableness: 4, neuroticism: 4 },
                { label: "æ€¥èº", openness: 4, conscientiousness: 5, extraversion: 7, agreeableness: 3, neuroticism: 7 },
                { label: "æ”¯é…æ€§", openness: 5, conscientiousness: 7, extraversion: 8, agreeableness: 2, neuroticism: 6 }
            ],
            melancholic: [
                { label: "æ•æ„Ÿ", openness: 7, conscientiousness: 6, extraversion: 2, agreeableness: 7, neuroticism: 9 },
                { label: "æ¸©æŸ”", openness: 5, conscientiousness: 5, extraversion: 3, agreeableness: 9, neuroticism: 6 },
                { label: "å°é—­", openness: 6, conscientiousness: 5, extraversion: 1, agreeableness: 5, neuroticism: 7 },
                { label: "å…±æƒ…", openness: 7, conscientiousness: 5, extraversion: 3, agreeableness: 9, neuroticism: 6 },
                { label: "å®Œç¾ä¸»ä¹‰", openness: 6, conscientiousness: 9, extraversion: 3, agreeableness: 6, neuroticism: 8 },
                { label: "æ·±æ€ç†Ÿè™‘", openness: 8, conscientiousness: 8, extraversion: 2, agreeableness: 6, neuroticism: 5 },
                { label: "æ‚²è§‚", openness: 5, conscientiousness: 6, extraversion: 2, agreeableness: 7, neuroticism: 9 },
                { label: "ç†æƒ³ä¸»ä¹‰", openness: 9, conscientiousness: 5, extraversion: 3, agreeableness: 7, neuroticism: 7 }
            ],
            phlegmatic: [
                { label: "å†·é™", openness: 4, conscientiousness: 7, extraversion: 4, agreeableness: 8, neuroticism: 2 },
                { label: "è€å¿ƒ", openness: 4, conscientiousness: 8, extraversion: 3, agreeableness: 9, neuroticism: 3 },
                { label: "ç¨³å®š", openness: 3, conscientiousness: 8, extraversion: 4, agreeableness: 8, neuroticism: 2 },
                { label: "å¯é ", openness: 3, conscientiousness: 9, extraversion: 3, agreeableness: 8, neuroticism: 2 },
                { label: "å¹³å’Œ", openness: 4, conscientiousness: 6, extraversion: 4, agreeableness: 9, neuroticism: 1 },
                { label: "è§„å¾‹", openness: 2, conscientiousness: 8, extraversion: 4, agreeableness: 6, neuroticism: 3 },
                { label: "é¿å…å†²çª", openness: 3, conscientiousness: 5, extraversion: 3, agreeableness: 9, neuroticism: 4 },
                { label: "åŠ¡å®", openness: 4, conscientiousness: 8, extraversion: 4, agreeableness: 6, neuroticism: 3 },
                { label: "ç‰©è´¨ä¸»å¯¼", openness: 1, conscientiousness: 7, extraversion: 4, agreeableness: 5, neuroticism: 3 },
                { label: "è¢«åŠ¨", openness: 3, conscientiousness: 2, extraversion: 2, agreeableness: 6, neuroticism: 3 },
                { label: "å†…æ•›", openness: 4, conscientiousness: 5, extraversion: 2, agreeableness: 7, neuroticism: 4 },
                { label: "éé»‘å³ç™½", openness: 2, conscientiousness: 7, extraversion: 6, agreeableness: 3, neuroticism: 5 }
            ]
        };

        // ç”Ÿæˆåˆ¤æ–­é¢˜
        const questions = [];
        const allTags = [];

        // æ”¶é›†æ‰€æœ‰æ ‡ç­¾
        Object.keys(temperamentTags).forEach(temperament => {
            temperamentTags[temperament].forEach(tagData => {
                allTags.push({
                    ...tagData,
                    temperament: temperament
                });
            });
        });

        // ç”Ÿæˆåˆ¤æ–­é¢˜
        allTags.forEach(tag => {
            const question = {
                text: `æˆ‘æ˜¯ä¸€ä¸ª${tag.label}çš„äºº`,
                tag: tag
            };
            questions.push(question);
        });

        // æ˜Ÿåº§æ ‡ç­¾
        const zodiacTags = {
            "ç™½ç¾Šåº§": ["å¼€æ‹“è€…", "è¡ŒåŠ¨æ´¾", "ç«äº‰è€…", "æ€¥å…ˆé”‹", "æ— ç•è€…"],
            "é‡‘ç‰›åº§": ["å®ˆæŠ¤è€…", "äº«ä¹å®¶", "å›ºæ‰§è€…", "å“å‘³å®¶", "ç¨³å®šå™¨"],
            "åŒå­åº§": ["æ²Ÿé€šè€…", "å¥½å¥‡å®å®", "ä¿¡æ¯è´©å­", "å¤šé¢æ‰‹", "æœºæ™ºæ´¾"],
            "å·¨èŸ¹åº§": ["ä¿æŠ¤è€…", "æ€€æ—§è€…", "æƒ…ç»ªæµ·ç»µ", "å®¶åº­ä¸»å¨", "å®‰å…¨æ„Ÿå¯»æ±‚è€…"],
            "ç‹®å­åº§": ["è¡¨æ¼”è€…", "æ…·æ…¨è€…", "è‡ªæ‹è€…", "é¢†è¢–", "èšå…‰ç¯çˆ±å¥½è€…"],
            "å¤„å¥³åº§": ["å®Œç¾ä¸»ä¹‰è€…", "åˆ†æå¸ˆ", "ç»†èŠ‚æ§", "æœåŠ¡è€…", "æ´ç™–"],
            "å¤©ç§¤åº§": ["å¹³è¡¡è€…", "ä¼˜é›…è€…", "çŠ¹è±«è€…", "è°ƒè§£äºº", "ç¾å­¦çˆ±å¥½è€…"],
            "å¤©èåº§": ["æ¢ç´¢è€…", "ç¥ç§˜è€…", "æ´å¯Ÿè€…", "æ¿€æƒ…è€…", "å¤ä»‡è€…"],
            "å°„æ‰‹åº§": ["å†’é™©å®¶", "å“²å­¦å®¶", "è‡ªç”±è€…", "ä¹è§‚è€…", "æ—…è¡Œè€…"],
            "æ‘©ç¾¯åº§": ["æ”€ç™»è€…", "ç°å®è€…", "è´£ä»»è€…", "ä¿å®ˆæ´¾", "æˆå°±å¯¼å‘è€…"],
            "æ°´ç“¶åº§": ["é©æ–°è€…", "äººé“ä¸»ä¹‰è€…", "æ€ªäºº", "æœªæ¥ä¸»ä¹‰è€…", "ç¤¾äº¤è§‚å¯Ÿè€…"],
            "åŒé±¼åº§": ["æ¢¦æƒ³å®¶", "å…±æƒ…è€…", "é€ƒé¿è€…", "è‰ºæœ¯å®¶", "æ•‘ä¸–ä¸»æƒ…ç»“"]
        };

        // äº”è¡Œå±æ€§
        const zodiacElementMap = {
            "ç™½ç¾Šåº§": "ç«", "ç‹®å­åº§": "ç«", "å°„æ‰‹åº§": "ç«",
            "é‡‘ç‰›åº§": "åœŸ", "å¤„å¥³åº§": "åœŸ", "æ‘©ç¾¯åº§": "åœŸ",
            "åŒå­åº§": "é£", "å¤©ç§¤åº§": "é£", "æ°´ç“¶åº§": "é£",
            "å·¨èŸ¹åº§": "æ°´", "å¤©èåº§": "æ°´", "åŒé±¼åº§": "æ°´"
        };

        // å¤§äº”äººæ ¼ç‰¹æ®Šæœºåˆ¶
        const bigFiveMechanisms = {
            "ç™½ç¾Šåº§": {
                traits: [
                    { trait: "å¼€æ”¾æ€§", high: "å†’é™©å‚¬åŒ–å‰‚", low: "å¸¸è§„ä¾èµ–è€…", correction: "æ–°æŒ‘æˆ˜â†’å¼€æ”¾æ€§+35%" },
                    { trait: "å°½è´£æ€§", high: "è¡ŒåŠ¨å‹å°½è´£", low: "è®¡åˆ’è’¸å‘è€…", correction: "ç´§è¿«æ„Ÿâ†’å°½è´£æ€§+50%" },
                    { trait: "å¤–å‘æ€§", high: "èƒ½é‡è¾å°„ä½“", low: "ç‹¬è¡Œä¾ ", correction: "ç«äº‰åœºæ™¯â†’å¤–å‘æ€§å¼‚å¸¸é«˜æ¶¨" },
                    { trait: "å®œäººæ€§", high: "ç›´ç‡å‹å‹å–„", low: "æ”»å‡»æ€§è¡¨è¾¾", correction: "è¢«è¯¯è§£â†’å®œäººæ€§-20%" },
                    { trait: "ç¥ç»è´¨", high: "å†²åŠ¨æ¥æ”¶å™¨", low: "æ— ç•é•‡å®šå‰‚", correction: "æŒ«è´¥æ„Ÿâ†’ç¥ç»è´¨+40%" }
                ],
                special: "å½“ã€Œå†’é™©å‚¬åŒ–å‰‚ã€ä¸ã€Œèƒ½é‡è¾å°„ä½“ã€åŒæ—¶æ¿€æ´» â†’ è§¦å‘ã€Œå†²é”‹æ¨¡å¼ã€"
            },
            "å¤©èåº§": {
                traits: [
                    { trait: "å¼€æ”¾æ€§", high: "å¹»è±¡é…¿é…’å¸ˆ", low: "ç°å®é”šå®šè€…", correction: "æ·±å¤œç‹¬å¤„â†’å¼€æ”¾æ€§+45%" },
                    { trait: "å°½è´£æ€§", high: "æƒ…ç»ªå‹å°½è´£", low: "æ‰¿è¯ºè’¸å‘è€…", correction: "æ‹äººæœŸå¾…â†’å°½è´£æ€§+60%" },
                    { trait: "å¤–å‘æ€§", high: "å…±æƒ…æµ·ç»µä½“", low: "èƒ½é‡æ¯ç«­è€…", correction: "å—å®³è€…å™äº‹â†’å¤–å‘æ€§å¼‚å¸¸é«˜æ¶¨" },
                    { trait: "å®œäººæ€§", high: "è¾¹ç•Œæº¶è§£è€…", low: "è‡ªæˆ‘çŒ®ç¥­ç™–", correction: "è¢«æ±‚åŠ©â†’å®œäººæ€§çªç ´é˜ˆå€¼" },
                    { trait: "ç¥ç»è´¨", high: "å…¨é¢‘æ®µæ¥æ”¶å™¨", low: "è‰ºæœ¯é•‡å®šå‰‚", correction: "é˜´é›¨å¤©â†’ç¥ç»è´¨+30%" }
                ],
                special: "å½“ã€Œå¹»è±¡é…¿é…’å¸ˆã€ä¸ã€Œè‰ºæœ¯é•‡å®šå‰‚ã€åŒæ—¶æ¿€æ´» â†’ äº§ç”Ÿé«˜ä»·å€¼åˆ›é€ æ€§ä½œå“"
            }
        };

        // ç”¨äºå­˜å‚¨ç”¨æˆ·é€‰æ‹©çš„åå¤©å’Œè¡Œä¸ºæ ‡ç­¾
        const userPostTags = {
            mbti: [],
            blood: [],
            event: [],
            career: [],
            class: [],
            spend: [],
            social: [],
            time: [],
            digital: [],
            health: [],
            learning: [],
            stress: [],
            leisure: []
        };

        // é¡µé¢åŠ è½½å®Œæˆåç”Ÿæˆé—®é¢˜
        document.addEventListener('DOMContentLoaded', function() {
            const questionsContainer = document.getElementById('questions-container');
            
            // ç”Ÿæˆé—®é¢˜
            questions.forEach((question, index) => {
                const questionDiv = document.createElement('div');
                questionDiv.className = 'question';
                questionDiv.innerHTML = `
                    <h3>${index + 1}. ${question.text}</h3>
                    <div class="options">
                        <div class="option" data-value="yes" data-question="${index}">
                            <input type="radio" name="q${index}" id="yes${index}" style="display:none;">
                            <label for="yes${index}">æ˜¯</label>
                        </div>
                        <div class="option" data-value="no" data-question="${index}">
                            <input type="radio" name="q${index}" id="no${index}" style="display:none;">
                            <label for="no${index}">å¦</label>
                        </div>
                    </div>
                    <input type="hidden" id="hidden-input-${index}">
                `;
                questionsContainer.appendChild(questionDiv);
            });

            // ä¸ºæ‰€æœ‰é€‰é¡¹æ·»åŠ ç‚¹å‡»äº‹ä»¶
            const optionElements = document.querySelectorAll('.option');
            optionElements.forEach(option => {
                option.addEventListener('click', function() {
                    const value = this.getAttribute('data-value');
                    const questionIndex = this.getAttribute('data-question');
                    
                    // æ›´æ–°éšè—è¾“å…¥æ¡†
                    document.getElementById(`hidden-input-${questionIndex}`).value = value;
                    
                    // æ›´æ–°UI
                    const options = this.parentElement.querySelectorAll('.option');
                    options.forEach(opt => opt.classList.remove('selected'));
                    this.classList.add('selected');
                    
                    // æ›´æ–°è¿›åº¦æ¡
                    updateProgress();
                });
            });

            // ============ æ–°å¢é¡µé¢çš„äº¤äº’é€»è¾‘ ============
            const postTestPage = document.getElementById('post-test-page');
            const personalityForm = document.getElementById('personality-form');
            const nextToPostTestBtn = document.getElementById('nextToPostTestBtn');
            const backToTestBtn = document.getElementById('backToTestBtn');
            const submitFinalBtn = document.getElementById('submitFinalBtn');

            // ä¸ºæ‰€æœ‰å¯é€‰é¡¹æ·»åŠ ç‚¹å‡»äº‹ä»¶
            document.querySelectorAll('.tag-options').forEach(group => {
                const groupId = group.id;
                const options = group.querySelectorAll('.tag-option');
                options.forEach(option => {
                    option.addEventListener('click', function() {
                        const tag = this.getAttribute('data-tag');
                        const isSingleSelect = ['mbti', 'blood'].some(prefix => groupId.startsWith(prefix));
                        
                        if (isSingleSelect) {
                            // å•é€‰é€»è¾‘ (MBTI, è¡€å‹)
                            options.forEach(opt => opt.classList.remove('selected', 'single-selected'));
                            this.classList.add('single-selected');
                            // æ¸…ç©ºæ•°ç»„å¹¶æ·»åŠ æ–°é€‰æ‹©
                            userPostTags[groupId.replace('-options', '')] = [tag];
                        } else {
                            // å¤šé€‰é€»è¾‘
                            this.classList.toggle('selected');
                            const tagList = userPostTags[groupId.replace('-options', '')];
                            const index = tagList.indexOf(tag);
                            if (this.classList.contains('selected')) {
                                if (index === -1) tagList.push(tag);
                            } else {
                                if (index > -1) tagList.splice(index, 1);
                            }
                        }
                    });
                });
            });

            // â€œè¿›å…¥ä¸‹ä¸€æ­¥â€ æŒ‰é’®
            nextToPostTestBtn.addEventListener('click', function() {
                // éªŒè¯ç¬¬ä¸€éƒ¨åˆ†
                const dobInput = document.getElementById('dob').value;
                if (!dobInput) {
                    alert('è¯·å¡«å†™å‡ºç”Ÿæ—¥æœŸ');
                    return;
                }
                const unanswered = [];
                for (let i = 0; i < questions.length; i++) {
                    if (!document.querySelector(`#hidden-input-${i}`)) {
                        unanswered.push(i + 1);
                    }
                }
                if (unanswered.length > 0) {
                    alert(`è¿˜æœ‰ ${unanswered.length} ä¸ªé—®é¢˜æœªå›ç­”`);
                    return;
                }
                
                // åˆ‡æ¢åˆ°åå¤©æ ‡ç­¾é¡µé¢
                personalityForm.classList.remove('active-page');
                postTestPage.style.display = 'block';
            });

            // â€œä¸Šä¸€æ­¥â€ æŒ‰é’®
            backToTestBtn.addEventListener('click', function() {
                postTestPage.style.display = 'none';
                personalityForm.classList.add('active-page');
            });

            // â€œç”Ÿæˆæˆ‘çš„äººæ ¼æŠ¥å‘Šâ€ æŒ‰é’®
            submitFinalBtn.addEventListener('click', function() {
                // è·å–å‡ºç”Ÿæ—¥æœŸ
                const dobInput = document.getElementById('dob').value;
                const dob = new Date(dobInput);
                if (!dob) {
                    alert('è¯·å¡«å†™æœ‰æ•ˆçš„å‡ºç”Ÿæ—¥æœŸ');
                    return;
                }

                // è·å–æ˜Ÿåº§å’Œå››æ¶²è´¨ç»“æœ
                const zodiac = getZodiac(dob);
                const temperament = getTemperamentResult();
                const bigFive = temperament.bigFiveScores;
                const zodiacElement = zodiacElementMap[zodiac] || "æœªçŸ¥";

                // ç”Ÿæˆå¹¶æ˜¾ç¤ºç»“æœ
                displayResults(zodiac, temperament, bigFive, zodiacElement, userPostTags);
            });

            // æ›´æ–°è¿›åº¦æ¡
            function updateProgress() {
                const totalQuestions = questions.length;
                const answeredQuestions = document.querySelectorAll('.option.selected').length;
                const progressPercent = (answeredQuestions / totalQuestions) * 100;
                document.getElementById('progress-bar').style.width = progressPercent + '%';
            }

            // è·å–æ˜Ÿåº§
            function getZodiac(dob) {
                const month = dob.getMonth() + 1;
                const day = dob.getDate();
                let sign = '';
                
                if ((month === 3 && day >= 21) || (month === 4 && day <= 19)) sign = "ç™½ç¾Šåº§";
                else if ((month === 4 && day >= 20) || (month === 5 && day <= 20)) sign = "é‡‘ç‰›åº§";
                else if ((month === 5 && day >= 21) || (month === 6 && day <= 20)) sign = "åŒå­åº§";
                else if ((month === 6 && day >= 21) || (month === 7 && day <= 22)) sign = "å·¨èŸ¹åº§";
                else if ((month === 7 && day >= 23) || (month === 8 && day <= 22)) sign = "ç‹®å­åº§";
                else if ((month === 8 && day >= 23) || (month === 9 && day <= 22)) sign = "å¤„å¥³åº§";
                else if ((month === 9 && day >= 23) || (month === 10 && day <= 22)) sign = "å¤©ç§¤åº§";
                else if ((month === 10 && day >= 23) || (month === 11 && day <= 21)) sign = "å¤©èåº§";
                else if ((month === 11 && day >= 22) || (month === 12 && day <= 21)) sign = "å°„æ‰‹åº§";
                else if ((month === 12 && day >= 22) || (month === 1 && day <= 19)) sign = "æ‘©ç¾¯åº§";
                else if ((month === 1 && day >= 20) || (month === 2 && day <= 18)) sign = "æ°´ç“¶åº§";
                else if ((month === 2 && day >= 19) || (month === 3 && day <= 20)) sign = "åŒé±¼åº§";
                
                return sign;
            }

            // è®¡ç®—å››æ¶²è´¨ç»“æœ
            function getTemperamentResult() {
                const scores = { sanguine: 0, choleric: 0, melancholic: 0, phlegmatic: 0 };
                const bigFiveScores = { openness: 0, conscientiousness: 0, extraversion: 0, agreeableness: 0, neuroticism: 0 };
                
                for (let i = 0; i < questions.length; i++) {
                    const selectedValue = document.querySelector(`#hidden-input-${i}`)?.value;
                    if (selectedValue === 'yes') {
                        const tag = questions[i].tag;
                        // å››æ¶²è´¨è®¡åˆ†
                        scores[tag.temperament] += 1;
                        // å¤§äº”äººæ ¼è®¡åˆ†
                        bigFiveScores.openness += tag.openness;
                        bigFiveScores.conscientiousness += tag.conscientiousness;
                        bigFiveScores.extraversion += tag.extraversion;
                        bigFiveScores.agreeableness += tag.agreeableness;
                        bigFiveScores.neuroticism += tag.neuroticism;
                    }
                }
                
                // å°†å¤§äº”äººæ ¼åˆ†æ•°æ ‡å‡†åŒ–åˆ°0-100èŒƒå›´
                const maxPossible = 40 * 9; // 40é¢˜ * æœ€é«˜åˆ†9
                const minPossible = 0;
                const range = maxPossible - minPossible;
                const normalizedBigFive = {
                    openness: Math.round((bigFiveScores.openness / range) * 100),
                    conscientiousness: Math.round((bigFiveScores.conscientiousness / range) * 100),
                    extraversion: Math.round((bigFiveScores.extraversion / range) * 100),
                    agreeableness: Math.round((bigFiveScores.agreeableness / range) * 100),
                    neuroticism: Math.round((bigFiveScores.neuroticism / range) * 100)
                };
                
                // æ‰¾å‡ºæœ€é«˜çš„å››æ¶²è´¨
                let maxScore = 0;
                let dominantTemperament = '';
                Object.keys(scores).forEach(key => {
                    if (scores[key] > maxScore) {
                        maxScore = scores[key];
                        dominantTemperament = key;
                    }
                });
                
                return {
                    dominant: dominantTemperament,
                    scores: scores,
                    bigFiveScores: normalizedBigFive
                };
            }

            // ç”Ÿæˆåˆ†ææŠ¥å‘Šï¼Œæ‰€æœ‰æ ‡ç­¾éƒ½å¸¦æœ‰é‡åŒ–æŒ‡æ ‡
            function generateAnalysis(postTags, bigFive, zodiac) {
                const analysis = {
                    personalityStructure: [],
                    environmentAdaptation: [],
                    entropyWarning: [],
                    optimizationStrategies: []
                };

                // --- äººæ ¼ç»“æ„ (åŸºäºMBTIå’Œæ ¸å¿ƒç‰¹è´¨) ---
                // æ ¹æ®MBTIæ¨æ–­ç³»ç»ŸåŒ–æ€ç»´
                if (postTags.mbti.includes('INTJ') || postTags.mbti.includes('ENTJ') || postTags.mbti.includes('ISTJ') || postTags.mbti.includes('ESTJ')) {
                    const systemScore = Math.min(100, 70 + bigFive.conscientiousness * 0.4);
                    analysis.personalityStructure.push(`é«˜ç³»ç»ŸåŒ–æ€ç»´å€¾å‘ï¼ˆç³»ç»Ÿæ•´åˆåŠ› ${systemScore}%ï¼‰`);
                }
                // æ ¹æ®MBTIæ¨æ–­æƒ…æ„Ÿè¡¨è¾¾
                if (postTags.mbti.includes('INTJ') || postTags.mbti.includes('ENTJ')) {
                    const emotionScore = 100 - bigFive.agreeableness;
                    analysis.personalityStructure.push(`æ¶æ„è€…æœ¬èƒ½ä¸æƒ…æ„Ÿé›·è¾¾çš„åŠ¨æ€å¹³è¡¡ï¼ˆæƒ…æ„ŸæŠ˜å æŒ‡æ•°ï¼š${emotionScore}%ï¼‰`);
                } else if (postTags.mbti.includes('INFP') || postTags.mbti.includes('ENFP')) {
                    const idealismScore = Math.min(100, 60 + bigFive.openness * 0.5);
                    analysis.personalityStructure.push(`ç†æƒ³ä¸»ä¹‰æ„¿æ™¯ä¸ç°å®è½åœ°çš„çŸ›ç›¾å¼ åŠ›ï¼ˆç†æƒ³ä¸»ä¹‰æŒ‡æ•°ï¼š${idealismScore}%ï¼‰`);
                }

                // --- ç¯å¢ƒé€‚åº”åŠ› (åŸºäºèŒä¸šã€æ¶ˆè´¹ã€ä¼‘é—²ç­‰) ---
                // èŒä¸šçƒ™å°
                if (postTags.career.includes('ç¨‹åºå‘˜')) {
                    const logicScore = Math.min(100, 60 + bigFive.conscientiousness * 0.5);
                    analysis.environmentAdaptation.push(`é€»è¾‘é—­ç¯èƒ½åŠ› +${logicScore}%`);
                }
                if (postTags.career.includes('è‰ºæœ¯å®¶')) {
                    const creativeScore = Math.min(100, 50 + bigFive.openness * 0.7);
                    analysis.environmentAdaptation.push(`éçº¿æ€§åˆ›é€ åŠ›é€šé“æ¿€æ´»ï¼ˆåˆ›é€ åŠ›æŒ‡æ•°ï¼š${creativeScore}%ï¼‰`);
                }
                if (postTags.career.includes('åŒ»ç”Ÿ')) {
                    const stressScore = Math.min(100, 55 + bigFive.conscientiousness * 0.6);
                    analysis.environmentAdaptation.push(`é«˜å‹å†³ç­–è€å—åŠ› +${stressScore}%`);
                }
                // ä¼‘é—²åå¥½
                if (postTags.leisure.includes('æˆ·å¤–æ¢é™©')) {
                    const uncertaintyScore = Math.min(100, 40 + bigFive.openness * 0.8);
                    analysis.environmentAdaptation.push(`ç¯å¢ƒä¸ç¡®å®šæ€§è€å—åŠ› +${uncertaintyScore}%`);
                }
                if (postTags.leisure.includes('é˜…è¯»æˆç˜¾')) {
                    const knowledgeScore = Math.min(100, 50 + bigFive.openness * 0.6);
                    analysis.environmentAdaptation.push(`çŸ¥è¯†è·å–æ•ˆç‡ +${knowledgeScore}%`);
                }

                // --- æ½œåœ¨ç†µå¢è­¦å‘Š (åŸºäºç¤¾ä¼šé˜¶å±‚ã€å‹åŠ›åº”å¯¹ã€å¥åº·ä¹ æƒ¯ç­‰) ---
                // ç¤¾ä¼šé˜¶å±‚
                if (postTags.class.includes('å¯’é—¨å‡ºèº«')) {
                    const anxietyScore = Math.min(100, 50 + bigFive.neuroticism * 0.6);
                    analysis.entropyWarning.push(`å‘ä¸ŠæµåŠ¨ç„¦è™‘æŒ‡æ•°ï¼š${anxietyScore}%`);
                }
                if (postTags.class.includes('å¯Œè£•é˜¶å±‚')) {
                    const meaningScore = Math.min(100, 30 + bigFive.neuroticism * 0.4);
                    analysis.entropyWarning.push(`æ„ä¹‰æ„ŸçœŸç©ºé£é™© +${meaningScore}%`);
                }
                // å‹åŠ›åº”å¯¹
                if (postTags.stress.includes('é€ƒé¿ç°å®')) {
                    const delayScore = Math.min(100, 40 + bigFive.neuroticism * 0.7);
                    analysis.entropyWarning.push(`é—®é¢˜è§£å†³å»¶è¿Ÿæˆæœ¬ +${delayScore}%`);
                }
                if (postTags.stress.includes('æš´é¥®æš´é£Ÿ')) {
                    const healthScore = Math.min(100, 35 + bigFive.neuroticism * 0.8);
                    analysis.entropyWarning.push(`å¥åº·é£é™©å¢å‹ +${healthScore}%`);
                }
                // å¥åº·ä¹ æƒ¯
                if (postTags.health.includes('åŒ»ç–—ææƒ§')) {
                    const riskScore = Math.min(100, 40 + bigFive.neuroticism * 0.6);
                    analysis.entropyWarning.push(`é¢„é˜²æ€§åŒ»ç–—ç¼ºå¤±é£é™© +${riskScore}%`);
                }

                // --- ä¼˜åŒ–ç­–ç•¥ (åŸºäºå­¦ä¹ é£æ ¼ã€æ—¶é—´åˆ†é…ã€æ•°å­—è¡Œä¸ºç­‰) ---
                // å­¦ä¹ é£æ ¼
                if (postTags.learning.includes('ç³»ç»Ÿå­¦ä¹ ')) {
                    const knowledgeScore = Math.min(100, 70 + bigFive.conscientiousness * 0.4);
                    analysis.optimizationStrategies.push(`çŸ¥è¯†å›¾è°±æ„å»ºèƒ½åŠ› +${knowledgeScore}%`);
                }
                if (postTags.learning.includes('ç¢ç‰‡å­¦ä¹ ')) {
                    const integrationScore = Math.max(20, 50 - bigFive.conscientiousness * 0.5);
                    analysis.optimizationStrategies.push(`çŸ¥è¯†æ•´åˆç¢ç‰‡åŒ–é£é™©ï¼ˆæ•´åˆæ•ˆç‡ï¼š${integrationScore}%ï¼‰`);
                }
                // æ—¶é—´åˆ†é…
                if (postTags.time.includes('å¤œé—´æ´»è·ƒ')) {
                    const inspirationScore = Math.min(100, 50 + bigFive.openness * 0.6);
                    analysis.optimizationStrategies.push(`çµæ„Ÿå³°å€¼åˆ©ç”¨ç‡ +${inspirationScore}%`);
                }
                if (postTags.time.includes('æ‹–å»¶å¤§å¸ˆ')) {
                    const deadlineScore = Math.min(100, 45 + bigFive.neuroticism * 0.5);
                    analysis.optimizationStrategies.push(`deadlineé©±åŠ¨å‹å‹åŠ›ååº”ï¼ˆæ•ˆç‡ï¼š${deadlineScore}%ï¼‰`);
                }
                // æ•°å­—è‚¢ä½“è¯­è¨€
                if (postTags.digital.includes('å·²è¯»ä¸å›')) {
                    const boundaryScore = Math.min(100, 60 + bigFive.neuroticism * 0.4);
                    analysis.optimizationStrategies.push(`æ•°å­—ç¤¾äº¤è´£ä»»è¿‡è½½ï¼ˆè¾¹ç•Œç»´æŠ¤æŒ‡æ•°ï¼š${boundaryScore}%ï¼‰`);
                }
                if (postTags.digital.includes('è¡¨æƒ…åŒ…è¾¾äºº')) {
                    const expressionScore = Math.min(100, 40 + bigFive.openness * 0.7);
                    analysis.optimizationStrategies.push(`æƒ…æ„Ÿè¡¨è¾¾ç¼–ç æ•ˆç‡ +${expressionScore}%`);

                }
                // å‹åŠ›åº”å¯¹
                if (postTags.stress.includes('è¿åŠ¨é‡Šæ”¾')) {
                    const metabolismScore = Math.min(100, 50 + bigFive.extraversion * 0.5);
                    analysis.optimizationStrategies.push(`ç”Ÿç†æ€§å‹åŠ›ä»£è°¢é€šé“ï¼ˆæ•ˆç‡ï¼š${metabolismScore}%ï¼‰`);
                }
                if (postTags.stress.includes('å¯»æ±‚æ”¯æŒ')) {
                    const supportScore = Math.min(100, 60 + bigFive.agreeableness * 0.5);
                    analysis.optimizationStrategies.push(`ç¤¾ä¼šæ”¯æŒç³»ç»Ÿåˆ©ç”¨ç‡ +${supportScore}%`);
                }

                // --- åŸºäºå¤§äº”äººæ ¼çš„é€šç”¨åˆ†æ ---
                // ç¥ç»è´¨
                if (bigFive.neuroticism > 70) {
                    const criticalScore = bigFive.neuroticism;
                    analysis.entropyWarning.push(`ç¥ç»è´¨æŒ‡æ•°ä¸´ç•Œå€¼ ${criticalScore}% (é«˜é£é™©)`);
                } else if (bigFive.neuroticism > 50) {
                    const moderateScore = bigFive.neuroticism;
                    analysis.entropyWarning.push(`ç¥ç»è´¨æŒ‡æ•° ${moderateScore}% (ä¸­ç­‰)`);
                }
                // å¼€æ”¾æ€§
                if (bigFive.openness > 70) {
                    const innovationScore = bigFive.openness;
                    analysis.environmentAdaptation.push(`åˆ›æ–°æ€ç»´æ´»è·ƒåº¦ +${innovationScore}%`);
                }
                // å°½è´£æ€§
                if (bigFive.conscientiousness < 40) {
                    const fragilityScore = 100 - bigFive.conscientiousness;
                    analysis.entropyWarning.push(`ç›®æ ‡æ‰§è¡Œé“¾æ¡è„†å¼±ï¼ˆè„†å¼±åº¦ï¼š${fragilityScore}%ï¼‰`);
                }

                // æ·»åŠ ä¸€äº›åŸºäºæ˜Ÿåº§çš„é‡åŒ–æ ‡ç­¾
                if (zodiac === "å¤©èåº§") {
                    const depthScore = Math.min(100, 60 + bigFive.neuroticism * 0.5);
                    analysis.optimizationStrategies.push(`æƒ…æ„Ÿæ·±åº¦èµ„æºæ¿€æ´»ï¼ˆæ·±åº¦ï¼š${depthScore}%ï¼‰`);
                }
                if (zodiac === "åŒå­åº§") {
                    const bandwidthScore = Math.min(100, 50 + bigFive.openness * 0.6);
                    analysis.environmentAdaptation.push(`ä¿¡æ¯å¤„ç†å¸¦å®½ +${bandwidthScore}%`);
                }

                // æ·»åŠ é€šç”¨æ ‡ç­¾ä½œä¸ºå…œåº•ï¼Œä¹Ÿè¿›è¡Œé‡åŒ–
                analysis.personalityStructure.push(`ç²¾å¯†ç¼–ç çš„æƒ…æ„Ÿè¡¨è¾¾æœºåˆ¶ï¼ˆç¼–ç å¤æ‚åº¦ï¼š75%ï¼‰`);
                analysis.personalityStructure.push(`é£é™©é¢„åˆ¤ä¸æœºä¼šæ•æ‰åŒé‡é©±åŠ¨ï¼ˆå¹³è¡¡æŒ‡æ•°ï¼š60%ï¼‰`);
                analysis.environmentAdaptation.push(`è·¨ç•Œé€‚åº”åŠ› +${Math.min(100, 40 + bigFive.openness * 0.7)}%`);
                analysis.environmentAdaptation.push(`æƒ…æ„Ÿè¡¨è¾¾ç•…é€šåº¦ -${Math.max(10, 25 - bigFive.agreeableness * 0.3)}%`);
                analysis.entropyWarning.push(`å¿ƒæµä½“éªŒå‡å‹ -${Math.min(80, 20 + bigFive.openness * 0.8)}%`);
                analysis.optimizationStrategies.push(`å»ºç«‹æƒ…æ„Ÿç›´è¾“é€šé“ï¼ˆé™ä½ç¼–ç èƒ½è€— ${Math.max(10, 30 - bigFive.neuroticism * 0.4)}%ï¼‰`);
                analysis.optimizationStrategies.push(`å®æ–½åå®Œç¾ä¸»ä¹‰è®­ç»ƒè®¡åˆ’ï¼ˆå‡å‹ ${Math.max(15, 25 - bigFive.neuroticism * 0.3)}%ï¼‰`);

                return analysis;
            }

            // æ˜¾ç¤ºç»“æœ
            function displayResults(zodiac, temperament, bigFive, zodiacElement, postTags) {
                const resultsDiv = document.getElementById('results');
                const resultsContent = document.getElementById('results-content');
                
                // ç”Ÿæˆåˆ†æ
                const analysisResult = generateAnalysis(postTags, bigFive, zodiac);
                
                // äººæ ¼ç±»å‹æ ‡ç­¾ (ç¤ºä¾‹ï¼Œä¹Ÿå¯ä»¥é‡åŒ–)
                const personalityTypeLabels = ["çŸ›ç›¾åè°ƒå‹äººæ ¼(é«˜)", "åŠ¨æ€å¹³è¡¡æ¶æ„å¸ˆ(ä¸­)", "é£é™©æ„ŸçŸ¥å‹åˆ›æ–°è€…(é«˜)", "æƒ…æ„ŸæŠ˜å å‹è¡¨è¾¾è€…(ä¸­é«˜)"];
                // æ ¸å¿ƒç‰¹è´¨æ ‡ç­¾
                const coreTraitLabels = ["ç³»ç»Ÿæ•´åˆè€…(92%)", "è·¨ç•Œé€‚åº”è€…(78%)", "ç†µå€¼ç®¡ç†è€…(65%)", "çŸ›ç›¾åè°ƒè€…(85%)"];
                // å‘å±•æ½œåŠ›æ ‡ç­¾
                const potentialLabels = ["è®¤çŸ¥å¼¹æ€§æ½œåŠ›å€¼ï¼šâ˜…â˜…â˜…â˜…â˜†", "æƒ…æ„Ÿè¡¨è¾¾æ½œåŠ›å€¼ï¼šâ˜…â˜…â˜…â˜†â˜†", "å‹åŠ›è€å—æ½œåŠ›å€¼ï¼šâ˜…â˜…â˜…â˜…â˜…", "åˆ›æ–°çªç ´æ½œåŠ›å€¼ï¼šâ˜…â˜…â˜…â˜…â˜†"];
                // å…³ç³»æ¨¡å¼æ ‡ç­¾
                const relationshipLabels = ["æƒ…æ„Ÿä»·å€¼äº¤æ¢è€…(é«˜)", "æ·±åº¦è¿æ¥æ¢ç´¢è€…(ä¸­)", "ç¤¾äº¤èƒ½é‡ç®¡ç†è€…(ä¸­é«˜)", "è¾¹ç•Œå®ˆæŠ¤è€…(é«˜)"];

                // æ„å»ºç»“æœHTML
                resultsContent.innerHTML = `
                    <!-- æ˜Ÿåº§ä¸å››æ¶²è´¨ -->
                    <div class="result-item">
                        <h3><i>ğŸŒŸ</i> æ˜Ÿåº§ä¸äº”è¡Œ</h3>
                        <p><strong>ä½ çš„æ˜Ÿåº§ï¼š</strong> ${zodiac}</p>
                        <p><strong>äº”è¡Œå±æ€§ï¼š</strong> ${zodiacElement}</p>
                        <div class="tags">
                            ${zodiacTags[zodiac].map(tag => `<span class="tag">${tag}</span>`).join('')}
                        </div>
                    </div>

                    <!-- å››æ¶²è´¨ -->
                    <div class="result-item">
                        <h3><i>ğŸ§ª</i> å››æ¶²è´¨åˆ†æ</h3>
                        <p><strong>ä¸»å¯¼æ°”è´¨ï¼š</strong> ${temperament.dominant === 'sanguine' ? 'å¤šè¡€è´¨' : 
                                                  temperament.dominant === 'choleric' ? 'èƒ†æ±è´¨' : 
                                                  temperament.dominant === 'melancholic' ? 'æŠ‘éƒè´¨' : 'ç²˜æ¶²è´¨'}</p>
                        <div class="bar-container">
                            <div class="bar" style="width: ${((temperament.scores.sanguine / 8) * 100)}%">å¤šè¡€è´¨ ${temperament.scores.sanguine}/8</div>
                        </div>
                        <div class="bar-container">
                            <div class="bar" style="width: ${((temperament.scores.choleric / 8) * 100)}%">èƒ†æ±è´¨ ${temperament.scores.choleric}/8</div>
                        </div>
                        <div class="bar-container">
                            <div class="bar" style="width: ${((temperament.scores.melancholic / 8) * 100)}%">æŠ‘éƒè´¨ ${temperament.scores.melancholic}/8</div>
                        </div>
                        <div class="bar-container">
                            <div class="bar" style="width: ${((temperament.scores.phlegmatic / 12) * 100)}%">ç²˜æ¶²è´¨ ${temperament.scores.phlegmatic}/12</div>
                        </div>
                    </div>

                    <!-- å¤§äº”äººæ ¼ -->
                    <div class="result-item">
                        <h3><i>ğŸ“Š</i> å¤§äº”äººæ ¼ç»´åº¦</h3>
                        <table class="dimension-table">
                            <tr>
                                <th>ç»´åº¦</th>
                                <th>å¾—åˆ†</th>
                                <th>è§£è¯»</th>
                            </tr>
                            <tr>
                                <td>å¼€æ”¾æ€§</td>
                                <td>${bigFive.openness}</td>
                                <td>${bigFive.openness > 70 ? 'é«˜åº¦å¼€æ”¾ï¼Œå¯Œæœ‰æƒ³è±¡åŠ›å’Œåˆ›é€ åŠ›' : 
                                    bigFive.openness > 50 ? 'ä¸­ç­‰åä¸Šï¼Œä¹äºæ¥å—æ–°äº‹ç‰©' : 
                                    bigFive.openness > 30 ? 'ä¸­ç­‰ï¼Œåå¥½ç†Ÿæ‚‰çš„äº‹ç‰©' : 'è¾ƒä½ï¼Œåå¥½ä¼ ç»Ÿå’Œå¸¸è§„'}</td>
                            </tr>
                            <tr>
                                <td>å°½è´£æ€§</td>
                                <td>${bigFive.conscientiousness}</td>
                                <td>${bigFive.conscientiousness > 70 ? 'é«˜åº¦è‡ªå¾‹ï¼Œåšäº‹æœ‰æ¡ç†' : 
                                    bigFive.conscientiousness > 50 ? 'ä¸­ç­‰åä¸Šï¼Œè¾ƒä¸ºå¯é ' : 
                                    bigFive.conscientiousness > 30 ? 'ä¸­ç­‰ï¼Œæœ‰æ—¶ä¼šæ‹–å»¶' : 'è¾ƒä½ï¼Œæ¯”è¾ƒéšæ€§'}</td>
                            </tr>
                            <tr>
                                <td>å¤–å‘æ€§</td>
                                <td>${bigFive.extraversion}</td>
                                <td>${bigFive.extraversion > 70 ? 'éå¸¸å¤–å‘ï¼Œç²¾åŠ›å……æ²›' : 
                                    bigFive.extraversion > 50 ? 'ä¸­ç­‰åä¸Šï¼Œå–œæ¬¢ç¤¾äº¤' : 
                                    bigFive.extraversion > 30 ? 'ä¸­ç­‰ï¼Œå†…å¤–å‘å¹³è¡¡' : 'è¾ƒä½ï¼Œåå¥½ç‹¬å¤„'}</td>
                            </tr>
                            <tr>
                                <td>å®œäººæ€§</td>
                                <td>${bigFive.agreeableness}</td>
                                <td>${bigFive.agreeableness > 70 ? 'éå¸¸å‹å–„ï¼Œä¹äºåˆä½œ' : 
                                    bigFive.agreeableness > 50 ? 'ä¸­ç­‰åä¸Šï¼Œæ¯”è¾ƒéšå’Œ' : 
                                    bigFive.agreeableness > 30 ? 'ä¸­ç­‰ï¼Œæœ‰è‡ªå·±çš„ä¸»è§' : 'è¾ƒä½ï¼Œæ¯”è¾ƒç›´æ¥'}</td>
                            </tr>
                            <tr>
                                <td>ç¥ç»è´¨</td>
                                <td>${bigFive.neuroticism}</td>
                                <td>${bigFive.neuroticism > 70 ? 'æƒ…ç»ªæ³¢åŠ¨è¾ƒå¤§ï¼Œå®¹æ˜“ç„¦è™‘' : 
                                    bigFive.neuroticism > 50 ? 'ä¸­ç­‰åä¸Šï¼Œæƒ…ç»ªè¾ƒæ•æ„Ÿ' : 
                                    bigFive.neuroticism > 30 ? 'ä¸­ç­‰ï¼Œæƒ…ç»ªè¾ƒä¸ºç¨³å®š' : 'éå¸¸ç¨³å®šï¼Œä¸æ˜“ç„¦è™‘'}</td>
                            </tr>
                        </table>
                        ${bigFiveMechanisms[zodiac] ? `
                        <div class="special-mechanism">
                            <h4>âœ¨ ${zodiac} ç‰¹æ®Šæœºåˆ¶</h4>
                            <p>${bigFiveMechanisms[zodiac].special}</p>
                        </div>` : ''}
                    </div>

                    <!-- äººæ ¼ç±»å‹æ ‡ç­¾ -->
                    <div class="result-item">
                        <h3><i>ğŸ‘¤</i> äººæ ¼ç±»å‹æ ‡ç­¾</h3>
                        <div class="tags">
                            ${personalityTypeLabels.map(label => `<span class="tag">${label}</span>`).join('')}
                        </div>
                    </div>

                    <!-- äººæ ¼ç»“æ„ -->
                    <div class="result-item">
                        <h3><i>ğŸ§©</i> äººæ ¼ç»“æ„</h3>
                        <div class="tags">
                            ${analysisResult.personalityStructure.map(label => `<span class="tag">${label}</span>`).join('')}
                        </div>
                    </div>

                    <!-- ç¯å¢ƒé€‚åº”åŠ› -->
                    <div class="result-item">
                        <h3><i>ğŸŒ</i> ç¯å¢ƒé€‚åº”åŠ›</h3>
                        <div class="tags">
                            ${analysisResult.environmentAdaptation.map(label => `<span class="tag">${label}</span>`).join('')}
                        </div>
                    </div>

                    <!-- æ ¸å¿ƒç‰¹è´¨æ ‡ç­¾ -->
                    <div class="result-item">
                        <h3><i>ğŸ¯</i> æ ¸å¿ƒç‰¹è´¨æ ‡ç­¾</h3>
                        <div class="tags">
                            ${coreTraitLabels.map(label => `<span class="tag">${label}</span>`).join('')}
                        </div>
                    </div>

                    <!-- æ½œåœ¨ç†µå¢è­¦å‘Š -->
                    <div class="result-item">
                        <h3><i>âš ï¸</i> æ½œåœ¨ç†µå¢è­¦å‘Š</h3>
                        <div class="tags">
                            ${analysisResult.entropyWarning.map(label => `<span class="tag">${label}</span>`).join('')}
                        </div>
                    </div>

                    <!-- ä¼˜åŒ–ç­–ç•¥ -->
                    <div class="result-item">
                        <h3><i>ğŸ”§</i> ä¼˜åŒ–ç­–ç•¥</h3>
                        <div class="tags">
                            ${analysisResult.optimizationStrategies.map(label => `<span class="tag">${label}</span>`).join('')}
                        </div>
                    </div>

                    <!-- å‘å±•æ½œåŠ›æ ‡ç­¾ -->
                    <div class="result-item">
                        <h3><i>ğŸš€</i> å‘å±•æ½œåŠ›æ ‡ç­¾</h3>
                        <div class="tags">
                            ${potentialLabels.map(label => `<span class="tag">${label}</span>`).join('')}
                        </div>
                    </div>

                    <!-- å…³ç³»æ¨¡å¼æ ‡ç­¾ -->
                    <div class="result-item">
                        <h3><i>ğŸ¤</i> å…³ç³»æ¨¡å¼æ ‡ç­¾</h3>
                        <div class="tags">
                            ${relationshipLabels.map(label => `<span class="tag">${label}</span>`).join('')}
                        </div>
                    </div>
                `;
                
                resultsDiv.classList.remove('hidden');
                document.getElementById('post-test-page').style.display = 'none';
            }
        });
    </script>
</body>
</html>
